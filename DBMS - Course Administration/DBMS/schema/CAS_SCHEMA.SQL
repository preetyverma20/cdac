
DROP TABLE CAS_COURSE CASCADE CONSTRAINTS ; 

CREATE TABLE CAS_COURSE ( 
  COURSE_ID     NUMBER (2)    NOT NULL, 
  COURSE_NAME   VARCHAR2 (50)  NOT NULL, 
  COURSE_TYPE   VARCHAR2 (2)  NOT NULL, 
  START_DATE    DATE          NOT NULL, 
  DURATION      NUMBER (2)    NOT NULL, 
  EXAM_PATTERN  VARCHAR2 (1)  NOT NULL, 
  BASIC_FEE     NUMBER (5)    NOT NULL, 
  EXAM_FEE      NUMBER (3)    NOT NULL, 
  CONSTRAINT CAS_COURSE
  PRIMARY KEY ( COURSE_ID ) ) ; 

DROP TABLE CAS_COURSE_STRUCTURE CASCADE CONSTRAINTS ; 

CREATE TABLE CAS_COURSE_STRUCTURE ( 
  COURSE_ID  NUMBER (2)    NOT NULL, 
  PERIOD     VARCHAR2 (10)  NOT NULL, 
  OPT_SUBS   NUMBER (2)    NOT NULL, 
  PRIMARY KEY ( COURSE_ID, PERIOD ) ) ; 

DROP TABLE CAS_COURSE_SUBJECT CASCADE CONSTRAINTS ; 

CREATE TABLE CAS_COURSE_SUBJECT ( 
  COURSE_ID     NUMBER (2)    NOT NULL, 
  SUBJECT_ID    NUMBER (3)    NOT NULL, 
  PERIOD        VARCHAR2 (10)  NOT NULL, 
  SUBJECT_TYPE  VARCHAR2 (2)  NOT NULL, 
  CONSTRAINT CAS_COURSE_SUBJECT
  PRIMARY KEY ( COURSE_ID, SUBJECT_ID ) ) ; 

DROP TABLE CAS_COURSE_TIMETABLE CASCADE CONSTRAINTS ; 

CREATE TABLE CAS_COURSE_TIMETABLE ( 
  COURSE_ID     NUMBER (2)    NOT NULL, 
  DIVISION      VARCHAR2 (1)  NOT NULL, 
  PERIOD        VARCHAR2 (10)  NOT NULL, 
  DAY           VARCHAR2 (10)  NOT NULL, 
  TIME          VARCHAR2 (10)  NOT NULL, 
  SUBJECT_ID    NUMBER (3), 
  FACULTY_ID    NUMBER (6), 
  LECTURE_TYPE  VARCHAR2 (10), 
  PRIMARY KEY ( COURSE_ID, DIVISION, PERIOD, DAY, TIME ) ) ; 

DROP TABLE CAS_FACULTY CASCADE CONSTRAINTS ; 

CREATE TABLE CAS_FACULTY ( 
  FACULTY_ID    NUMBER (6)    NOT NULL, 
  FACULTY_NAME  VARCHAR2 (50)  NOT NULL, 
  SEX           VARCHAR2 (1)  NOT NULL, 
  BIRTHDATE     DATE          NOT NULL, 
  JOINING_DATE  DATE          NOT NULL, 
  ADDRESS       VARCHAR2 (150), 
  SALARY        NUMBER (6), 
  CONSTRAINT CAS_FACULTY
  PRIMARY KEY ( FACULTY_ID ) ) ; 

DROP TABLE CAS_FACULTY_SUBJECT CASCADE CONSTRAINTS ; 

CREATE TABLE CAS_FACULTY_SUBJECT ( 
  FACULTY_ID  NUMBER (6)    NOT NULL, 
  SUBJECT_ID  NUMBER (3)    NOT NULL, 
  CONSTRAINT CAS_FACULTY_SUBJECT
  PRIMARY KEY ( FACULTY_ID, SUBJECT_ID ) ) ; 

DROP TABLE CAS_FEE CASCADE CONSTRAINTS ; 

CREATE TABLE CAS_FEE ( 
  FEE_ID           NUMBER (2)    NOT NULL, 
  FEE_DESCRIPTION  VARCHAR2 (150)  NOT NULL, 
  VALUE            NUMBER (5)    NOT NULL, 
  CONSTRAINT CAS_FEE
  PRIMARY KEY ( FEE_ID ) ) ; 

DROP TABLE CAS_STUDENT CASCADE CONSTRAINTS ; 

CREATE TABLE CAS_STUDENT ( 
  STUDENT_ID      NUMBER (8)    NOT NULL, 
  STUDENT_NAME    VARCHAR2 (50)  NOT NULL, 
  SEX             VARCHAR2 (1)  NOT NULL, 
  BIRTHDATE       DATE          NOT NULL, 
  ADMISSION_DATE  DATE          NOT NULL, 
  ADDRESS         VARCHAR2 (150), 
  COURSE_ID       NUMBER (2)    NOT NULL, 
  DIVISION        VARCHAR2 (1)  NOT NULL, 
  CONSTRAINT CAS_STUDENT
  PRIMARY KEY ( STUDENT_ID ) ) ; 

DROP TABLE CAS_STUDENT_OPTSUB CASCADE CONSTRAINTS ; 

CREATE TABLE CAS_STUDENT_OPTSUB ( 
  STUDENT_ID  NUMBER (2)    NOT NULL, 
  SUBJECT_ID  NUMBER (3)    NOT NULL, 
  PERIOD      VARCHAR2 (10)  NOT NULL, 
  PRIMARY KEY ( STUDENT_ID, SUBJECT_ID ) ) ; 

DROP TABLE CAS_STUDENT_PAYMENTS CASCADE CONSTRAINTS ; 

CREATE TABLE CAS_STUDENT_PAYMENTS ( 
  STUDENT_ID      NUMBER (8)    NOT NULL, 
  PERIOD          VARCHAR2 (10)  NOT NULL, 
  FEE_STATUS      VARCHAR2 (3)  NOT NULL, 
  PAYMENT_OPTION  VARCHAR2 (2)  NOT NULL, 
  DDORCHECK_NO    NUMBER (10), 
  RECEIPT_NO      NUMBER (10)   NOT NULL, 
  TOTAL_FEE       NUMBER (10)   NOT NULL, 
  CONSTRAINT CAS_STUDENT_PAYMENTS
  PRIMARY KEY ( STUDENT_ID, PERIOD ) ) ; 

DROP TABLE CAS_STUDENT_PERFORMANCE CASCADE CONSTRAINTS ; 

CREATE TABLE CAS_STUDENT_PERFORMANCE ( 
  STUDENT_ID    NUMBER (8)    NOT NULL, 
  SUBJECT_ID    NUMBER (3)    NOT NULL, 
  EXAM_TYPE     VARCHAR2 (2)  NOT NULL, 
  PERIOD        VARCHAR2 (10)  NOT NULL, 
  MARKS_SCORED  NUMBER (3)    NOT NULL, 
  CONSTRAINT CAS_STUDENT_PERFORMANCE
  PRIMARY KEY ( STUDENT_ID, SUBJECT_ID, EXAM_TYPE ) ) ; 

DROP TABLE CAS_SUBJECT CASCADE CONSTRAINTS ; 

CREATE TABLE CAS_SUBJECT ( 
  SUBJECT_ID    NUMBER (3)    NOT NULL, 
  SUBJECT_NAME  VARCHAR2 (50)  NOT NULL, 
  CONSTRAINT CAS_SUBJECT
  PRIMARY KEY ( SUBJECT_ID ) ) ; 

DROP TABLE CAS_SUBJECT_ASSESSMENT CASCADE CONSTRAINTS ; 

CREATE TABLE CAS_SUBJECT_ASSESSMENT ( 
  SUBJECT_ID     NUMBER (3)    NOT NULL, 
  EXAM_TYPE      VARCHAR2 (2)  NOT NULL, 
  PASSING_MARKS  NUMBER (3)    NOT NULL, 
  MAX_MARKS      NUMBER (3)    NOT NULL, 
  CONSTRAINT CAS_SUBJECT_ASSESSMENT
  PRIMARY KEY ( SUBJECT_ID, EXAM_TYPE ) ) ; 

ALTER TABLE CAS_COURSE_STRUCTURE ADD  CONSTRAINT FK_COURSE_STR_ID
 FOREIGN KEY (COURSE_ID) 
  REFERENCES SCOTT.CAS_COURSE (COURSE_ID) ;

ALTER TABLE CAS_COURSE_SUBJECT ADD  CONSTRAINT FK_COURSE_ID
 FOREIGN KEY (COURSE_ID) 
  REFERENCES SCOTT.CAS_COURSE (COURSE_ID) ;

ALTER TABLE CAS_COURSE_SUBJECT ADD  CONSTRAINT FK_SUBJECT_ID_2
 FOREIGN KEY (SUBJECT_ID) 
  REFERENCES SCOTT.CAS_SUBJECT (SUBJECT_ID) ;

ALTER TABLE CAS_COURSE_TIMETABLE ADD  CONSTRAINT FK_COURSE_TTID
 FOREIGN KEY (COURSE_ID) 
  REFERENCES SCOTT.CAS_COURSE (COURSE_ID) ;

ALTER TABLE CAS_COURSE_TIMETABLE ADD  CONSTRAINT FK_FACULTY_TTID
 FOREIGN KEY (FACULTY_ID) 
  REFERENCES SCOTT.CAS_FACULTY (FACULTY_ID) ;

ALTER TABLE CAS_COURSE_TIMETABLE ADD  CONSTRAINT FK_SUBJECT_TTID
 FOREIGN KEY (SUBJECT_ID) 
  REFERENCES SCOTT.CAS_SUBJECT (SUBJECT_ID) ;

ALTER TABLE CAS_FACULTY_SUBJECT ADD  CONSTRAINT FK_FACULTY_ID
 FOREIGN KEY (FACULTY_ID) 
  REFERENCES SCOTT.CAS_FACULTY (FACULTY_ID) ;

ALTER TABLE CAS_FACULTY_SUBJECT ADD  CONSTRAINT FK_SUBJECT_ID_3
 FOREIGN KEY (SUBJECT_ID) 
  REFERENCES SCOTT.CAS_SUBJECT (SUBJECT_ID) ;

ALTER TABLE CAS_STUDENT_OPTSUB ADD  CONSTRAINT FK_STUDENT_ID
 FOREIGN KEY (STUDENT_ID) 
  REFERENCES SCOTT.CAS_STUDENT (STUDENT_ID) ;

ALTER TABLE CAS_STUDENT_OPTSUB ADD  CONSTRAINT FK_SUBJECT_ID_123
 FOREIGN KEY (SUBJECT_ID) 
  REFERENCES SCOTT.CAS_SUBJECT (SUBJECT_ID) ;

ALTER TABLE CAS_STUDENT_PAYMENTS ADD  CONSTRAINT FK_STUDENT_ID_2
 FOREIGN KEY (STUDENT_ID) 
  REFERENCES SCOTT.CAS_STUDENT (STUDENT_ID) ;

ALTER TABLE CAS_STUDENT_PERFORMANCE ADD  CONSTRAINT FK_STUDENT_ID_1
 FOREIGN KEY (STUDENT_ID) 
  REFERENCES SCOTT.CAS_STUDENT (STUDENT_ID) ;

ALTER TABLE CAS_STUDENT_PERFORMANCE ADD  CONSTRAINT FK_SUBJECT_ID
 FOREIGN KEY (SUBJECT_ID) 
  REFERENCES SCOTT.CAS_SUBJECT (SUBJECT_ID) ;

ALTER TABLE CAS_SUBJECT_ASSESSMENT ADD  CONSTRAINT FK_SUBJECT_ID_4
 FOREIGN KEY (SUBJECT_ID) 
  REFERENCES SCOTT.CAS_SUBJECT (SUBJECT_ID) ;

